---
title: The Shape and Color of Politics
author: 
    - name: Damon C. Roberts [{{< fa brands orcid size=xs >}}](https://orcid.org/0000-0002-4360-3675)
format:
    simpledarkjs-revealjs:
        multiplex: true
        output-file: color-book.html
bibliography: ../../../assets/candidate_support_chapter_references.bib
execute:
    echo: false
    freeze: true
    eval: true
    cache: true
nocite: |
    @allaire_quarto_2022, @arel-bundock_marginaleffects_2022, @wickham_ggplot2_2016, @leeuw_jspsych_2015, @burkner_brms_2017
---

```{r}
#| label: setup-block
# Set seed
set.seed(12102023)
# Load libraries
box::use(
  ggplot2[
    ggplot
    , aes
    , geom_density
    , theme_minimal
    , geom_vline
    , labs
    , scale_y_discrete
    , scale_x_discrete
  ]
  , ggdist[
    stat_halfeye
  ]
  , modelsummary[
    datasummary_skim
    , datasummary_balance
    , modelsummary
  ]
  , marginaleffects[
    avg_slopes
    , posterior_draws
  ]
  , ../R/predicted_prob_bar[...]
  , data.table[...]
)

# Load cleaned data
list_df <- list()
list_df[["cleaned"]] <- read.csv(
  file = "../../data/clean/cleaned_pavlovia.csv"
)
# Load fitted models
  #* Pre-test
load(
    file="../../data/models/prr/pre-test/pre-test_party_model.RDS"
  )
  #* Main studies
load("../../data/temp/models/study_1_fitted.RData")
# Load data for study 2
df_study_2 <- read.csv("../../data/clean/study_2.csv") |>
  as.data.table()
  #* convert state_district and year variables  to factors
df_study_2 <- df_study_2[
  , year := tstrsplit(year, "-", keep = 1)
][
  , year := as.numeric(year)
][
  , state_district := factor(state_district)
][
  , blue_prop := blue_percent / 100
][
  , red_prop := red_percent / 100
]
```

![QR Code](../../assets/slides/imgs/qr-code.png){#fig-qr}

---

![Aaron Bashir (R), PA-3](../../assets/slides/imgs/bashir.webp){#fig-bashir .absolute left=0 top=100}
![Dwight Evans (D), PA-2](../../assets/slides/imgs/evans.webp){#fig-bashir .absolute right=0 bottom=100}

---

```{r}
#| label: fig-hook-1
#| fig-cap: Perceptions of candidate's party affiliation based on color of yard sign

partyAMES <- avg_slopes(
  PartyModel,
  type = "link"
) |>
posterior_draws()

ggplot(
  data = partyAMES,
  aes(
    x = draw,
    y = term
  )
) +
stat_halfeye(
  slab_alpha = 0.45
) +
theme_minimal() +
labs(
  x = "Average Marginal Effect",
  y = "",
  caption = "Data source: Pre-test.\n Distribution of AME's for model posterior draws using HDI's.\n Interpreted as the logged odds of labelling the candidate as a partisan\n given whether they viewed a red yard sign or blue yard sign\n while holding all other variables at their mean value.\n Dot reflects median posterior draw where bars reflect 90% and 95% credible intervals."
) +
scale_y_discrete(
  labels = c(
    "Blue Treatment",
    "Red Treatment"
  )
) +
ggplot2::scale_x_continuous(
  breaks = c(-3, 0, 3)
  , labels = c(
    "Strong Democrat", "Independent", "Strong Republican"
  )
)
```

---

![Nebraska](../../assets/slides/imgs/nebraska.jpg)

---

## References

::: {#refs}
:::

## License

Shield: [![CC BY 4.0][cc-by-shield]][cc-by]

This work is licensed under a
[Creative Commons Attribution 4.0 International License][cc-by].

[![CC BY 4.0][cc-by-image]][cc-by]

[cc-by]: http://creativecommons.org/licenses/by/4.0/
[cc-by-image]: https://i.creativecommons.org/l/by/4.0/88x31.png
[cc-by-shield]: https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg

